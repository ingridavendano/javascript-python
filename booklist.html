<html>
	<head></head>
	<body>
		<h1>My Book List: </h1>
		<p></p>
		<script type="text/javascript">
			// getting the page document
			var bodyNode = document.getElementsByTagName('body')[0];
			var newParagraph = document.createElement('p');
			var newList = document.createElement('ul');

			// book list class
			var BookList = function() {
				this.booksRead = [];
				this.booksNotRead = [];
				this.nextBook = undefined;
				this.currentBook = undefined;
				this.lastBook = undefined;
				this.bookShelf = [];

				this.add = function(book) {
					this.bookShelf.push(book);

					if (book.read === false) {
						this.booksNotRead.push(book);
						if (this.currentBook === undefined) {
							this.currentBook = book;
						}
					else if (this.nextBook === undefined) {
							this.nextBook = book;
						}
					}
					else {
						this.booksRead.push(book);
					}
				};

				this.finishCurrentBook = function() {
					this.booksRead.push(this.currentBook);
					this.booksNotRead.shift();
					this.currentBook.readOnDate(new Date(Date.now()));
					this.lastBook = this.currentBook;
					this.currentBook = this.nextBook;
					this.nextBook = this.booksNotRead[1];
				};
			};

			// book class
			var Book = function(title, author, genre) {
				this.title = title;
				this.author = author;
				this.genre = genre;
				this.read = false;
				this.dateRead = "";

				// ideally this function takes in a Date object
				this.readOnDate = function(date) {
					this.dateRead = date;
					this.read = true;
				};
			};

			function listBooks() {
				for (var i=0; i<reading.bookShelf.length; i++) {
					var book = reading.bookShelf[i]

					// create new book element in a list item tag
					var newListItem = document.createElement('li');
					var text = document.createTextNode(book.title + " by " + book.author);

					// appends text to the list item and then eventually body
					newListItem.appendChild(text);
					newList.appendChild(newListItem);

				}
				newParagraph.appendChild(newList);
				bodyNode.appendChild(newParagraph);
			}

			// creating a new book list and books
			var reading = new BookList();
			var gameOfThrones = new Book("Game of Thrones", "George R R Martin", "Fantasy");
			var prideAndPrejudice = new Book("Pride and Prejudice", "Jane Austen", "Fiction");
			var crakeAndOryx = new Book("Crake and Oryx", "Margaret Atwood", "Sci-fi");

			// adding books to the reading list
			reading.add(gameOfThrones);
			reading.add(prideAndPrejudice);
			reading.add(crakeAndOryx);

			listBooks();
		</script>
	</body>
</html>